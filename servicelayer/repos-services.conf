# Apache2 configuration for Subversion Service Layer (C) 2007 www.repos.se

# Parameters hard coded in the examples below:
# Repository "/data" = http(s)://HOST/data/
# Web application "/repos"

# The repository must allow non-SSL access from localhost

RewriteEngine	on

# --- Subversion service layer ---

# Log
RewriteCond		%{QUERY_STRING}	^svn=log$
RewriteRule		^/data(/.*)$	/repos/open/log/?repo=http://%{HTTP_HOST}/data&target=$1 [PT,L]

# --- Repos addons ---

# Startpage
RewriteCond		%{QUERY_STRING}	^repos$
RewriteRule		^/data/$	/repos/open/start/?repo=http://%{HTTP_HOST}/data [PT,L]

# Automatic startpage
RewriteCond		%{QUERY_STRING}	^repos$
RewriteCond		%{REQUEST_URI}	!-U
RewriteRule		^/data/$	/?repos [PT,L]

# Projectpage TODO