<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Upload to repos</title>
<script type="text/javascript">
function autoFillFilename(path) {

}
</script>
<!--{$head}-->
</head>

<body>
<h1>Paste contents of file</h1>
<!--{if $isfile}-->
<p>As a new version of file <span class="path">{=$target}</span> <a class="action" target="_blank" href="../open/?target={=$target}">open current version</a></p>
<p><a class="action" href="./?target={=$target}">switch to normal file upload</a></p>
<!--{else}-->
<p>As a new file in folder {=$target}</p>
<p><a class="action" href="./?target={=$target}">switch to normal file upload</a></p>
<!--{/if}-->
<p>Open the local file in a text editor, such as notepad, and copy the contents to this form.</p>
<a name="textform"/>
<form action="./" method="post" name="formUpload" id="formUpload" tmt:validate="true">
<fieldset>
  <legend>Upload to repos.se</legend>
  <input type="hidden" name="targeturl" value="{=$targeturl}"/>
  <input type="hidden" name="paste" value="1"/>
  <p>
    <label for="usertext">file contents</label> <a class="action" href="#textform" onclick="document.forms[0]['usertext'].value=''">clear contents</a><br />
	<!--{if $isfile}-->
    <textarea name="usertext" id="usertext" cols="100" rows="20" tmt:required="true">{=$targeturl|login_svnPassthruFile}</textarea>
	<!--{else}-->
	<textarea name="usertext" id="usertext" cols="100" rows="20" tmt:required="true"></textarea>
	<!--{/if}-->
    <label for="userfile"></label>
  </p>
  <p>
    <label for="currentname">name in repository</label>
	<!--{if $isfile}-->
    <input type="text" id="currentname" name="currentname" value="{=$target|basename}" disabled="disabled" size="40" />
	<input type="hidden" id="name" name="name" value="{=$target|basename}"/>
	<!--{else}-->
	<input type="text" id="name" name="name" size="40" tmt:required="true" tmt:pattern="reposFilename" tmt:message="Filename is required and may not contain ^, :, &amp;, <, >, @, , #, ~, ?, *, $, |, [, ], /, \, commas or quotes"/>
	<input type="hidden" id="create" name="create" value="yes"/>
	<!--{/if}-->
  </p>
  <p>
    <label for="message">log message</label>
    <textarea id="message" name="message" cols="40" rows="2" tmt:pattern="reposLogmessage" tmt:message="Contains invalid characters"></textarea>
  </p>
  <p>
    <label for="submit"></label>
    <input id="submit" type="submit" name="Submit" value="Upload" />
    <input type="reset" value="Reset to original contents"/>
  </p>
</fieldset>
</form>
<!--{if $isfile}-->
<p><a id="linkBack" class="action" href="{=$targeturl|dirname}">&lt; back</a></p>
<!--{else}-->
<p><a id="linkBack" class="action" href="{=$targeturl}">&lt; back</a></p>
<!--{/if}-->
</body>
</html>
