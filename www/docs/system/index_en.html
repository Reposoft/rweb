<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>repos.se: Version Control server stack</title>
<link href="../../style/docs.css" rel="stylesheet" type="text/css" />
<style type="text/css">
<!--
.stackbox {
	text-align: center;
	border: 1px dashed #CCCC99;
}
.yourfiles-highlight {
	background-color: #FFCC66;
}
-->
</style>
</head>

<body>
<h1>The Repos Version Control Server Stack</h1>
<p>
Version control in <a target="_blank" href="http://www.repos.se/">Repos</a> and <a target="_blank" href="http://www.projectengine.nu/">Project Engine</a> relies on <a target="_blank" href="http://subversion.tigris.org/">Subversion</a>. You create your subversion repository, access it from your browser, then connect Repos and/or Project Engine to it. </p>
<table>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2" class="stackbox"><a href="http://www.repos.se/" target="_blank">Repos web interface</a></td>
    <td class="stackbox"><a href="http://www.projectengine.nu/" target="_blank">Project Engine</a></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td class="stackbox">PHP</td>
    <td colspan="2" class="stackbox yourfiles-highlight"><a href="http://svnbook.red-bean.com/" target="_blank">Subversion</a> with your repository</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2" class="stackbox"><a href="http://httpd.apache.org/docs/2.0/" target="_blank">Apache2 web server</a></td>
    <td class="stackbox"><a href="http://www.openssl.org/" target="_blank">OpenSSL</a></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="3" class="stackbox">A server machine*</td>
    <td>&nbsp;</td>
  </tr>
</table>
<table>
  <tr>
    <td><span class="yourfiles-highlight">&nbsp;</span></td>
    <td><small>This is where your files are, together with their complete history.</small></td>
  </tr>
  <tr>
    <td>*</td>
    <td><small>Almost any operating system. Repos is tested with Linux, Windows and Mac OS X.</small></td>
  </tr>
</table>
<p>Subversion is open source and widely supported. There are at least 10 books on Amazon about it, as well as the comprehensive online <a href="http://svnbook.red-bean.com/" target="_blank">Subversion book</a>.</p>
<p>Contrary to other document management systems, Repos does not lock you in to a proprietary storage solution. If you no longer need Repos or Project Engine, you still have all your data and history in a standard Subversion repository. Like the Apache web server, this will always be free of charge. You can use clients such as Tortoise SVN to access your files.</p>
<h2>Repos hosting</h2>
<p>Repos.se offers repository hosting. You buy storage space and user accounts on a subversion server with Repos installed. Currently this is only offered in Sweden.</p>
<h2>Hosting your own repository</h2>
<p>Project Engine can connect to any Subversion repository. If the repository server supports PHP (most Apache servers do) the Repos web interface can be installed at any time. The first step to self hosting is to configure a server. This requires some system administration skills. </p>
<p>If the server runs Linux, it probably  runs Apache2 already, with SSL support. In most distributions Subversion can be installed using the package manager.</p>
<p>Running windows, installing Apache2 with SSL (which is <a href="http://svnbook.red-bean.com/en/1.2/svn.serverconfig.httpd.html#svn.serverconfig.httpd.authn.sslcerts" target="_blank">recommended</a>) can be a pain. The <a href="repos-windows.html">Repos server package for windows</a> will probably save you 20 hrs.</p>
<h3>Creating a repository</h3>
<p>When Subversion is installed on the server, it should be possible to do <a href="http://svnbook.red-bean.com/nightly/en/svn.ref.svnadmin.c.create.html" target="_blank"><code>svadmin create</code></a> in a command prompt. This creates a repository in the local file system. It can be <a href="http://svnbook.red-bean.com/nightly/en/svn.tour.initial.html" target="_blank">checked out</a> even if Apache is not installed, using the <code>file://</code> prefix. </p>
<p>To allow web access to the repository, use <a href="http://svnbook.red-bean.com/nightly/en/svn.serverconfig.httpd.html#svn.serverconfig.httpd.basic" target="_blank">basic Apache configuration</a>. </p>
<h3>Chosing a URL</h3>
<p>The repository will have a root URL, the address to all your files. Each document will be in a path under this URL, which is in fact global ID. So the repository URL should be chosen wisely, because in a month or so it will be in many bookmarks and e-mails.</p>
<ul>
  <li>Make sure the domain name is the same everywhere. If the address can be used both behind your firewall and externally, using the URL will be simple.</li>
  <li>Place the repository as a folder in the server root. Short URLs are nice.</li>
</ul>
<h3>Test the repository </h3>
<p>When the repository has been created and configured, paste the root URL into a web browser. This should lead to a web page with an empty folder.</p>
<h3>Add user accounts</h3>
<p>To add repository <a href="http://svnbook.red-bean.com/nightly/en/svn.serverconfig.httpd.html#svn.serverconfig.httpd.authn" target="_blank">user authentication</a>, configure standard <a href="http://httpd.apache.org/docs/2.0/howto/auth.html" target="_blank">Apache security</a>. Apache has modules to connect to different user account directories that your organization might already have. Most straightforward is a <a href="http://httpd.apache.org/docs/2.0/howto/auth.html#lettingmorethanonepersonin" target="_blank">local password file</a>. Repos is delivered with a tool to manage users in a password file. </p>
<p>&nbsp; </p>
</body>
</html>
