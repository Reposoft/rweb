<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>repos.se automated test</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">check that access denied shows 403 error (not login box as svn 1.2.3)</td></tr>
</thead><tbody>
<tr>
	<td>open</td>
	<td>setup/</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>parent</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>files:demoproject</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>link=noaccess</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=noaccess</td>
	<td>2000</td>
</tr>
<tr>
	<td>verifyTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr title="this error has a referrer">
	<td>verifyElementPresent</td>
	<td>parent</td>
	<td></td>
</tr>
<tr title="user is logged in and might want to return to homepage">
	<td>verifyElementPresent</td>
	<td>logout</td>
	<td></td>
</tr>
<tr title="user is logged in, startpage reached through default login">
	<td>verifyAttribute</td>
	<td>parent@href</td>
	<td>*account/login/</td>
</tr>
<tr>
	<td>setTimeout</td>
	<td>5000</td>
	<td></td>
</tr>
<tr title="Simple case. If this operation takes very long time, it might be that the error page does not identify internal requests properly, when it checks all parents">
	<td>open</td>
	<td>/testrepo/demoproject/trunk/noaccess/a/</td>
	<td></td>
</tr>
<tr>
	<td>verifyTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr title="Browser URL should be the failing one (not redirected to the error page)">
	<td>verifyNotLocation</td>
	<td>*/errors/*</td>
	<td></td>
</tr>
<tr>
	<td>verifyElementPresent</td>
	<td>link=*/testrepo/demoproject/trunk/</td>
	<td></td>
</tr>
<tr>
	<td>setTimeout</td>
	<td>10000</td>
	<td></td>
</tr>
<tr title="If this operation takes very long time, it might be that the error page does not identify internal requests properly, when it checks all parents">
	<td>open</td>
	<td>/testrepo/demoproject/trunk/noaccess/a/b/c/d/e/f/g/h/i/j/k/</td>
	<td></td>
</tr>
<tr>
	<td>verifyTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>verifyElementPresent</td>
	<td>link=*/testrepo/demoproject/trunk/</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
