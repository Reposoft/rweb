<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>repos: repository access</title>
<!--{$head}-->
</head>

<body>

<div id="commandbar">
<img src="../../style/logo/repos1.png" border="0" align="right" width="72" height="18" alt="repos.se" title="repos.se content management"/>
<a href="/?logout" id="logout">logout</a>
</div>

<div id="intro">
<h1><img src="../../style/logo/repos2.png" border="0" align="absmiddle" width="144" height="36" alt="Repos "/> startpage</h1>
<p>You are logged in with username <em>{=$userfullname}</em>.
This startpage lists the projects that you have access to,
and the tools in each project.</p>
</div>

<div class="column" style="width: 50%">
<!--{foreach from=$entrypoints item=entry name=project}-->
<!--{assign var='projectname' value=$entry->getDisplayname()}-->
<div class="section">
<h2>
<!--{* todo: make a smarter link, trunk/ if existing, project root if no trunk *}-->
<span class="{=if $projectname eq $userfullname}username{=else}projectname{=/if}">{=$projectname}</span>
{=if !$entry->getPath()}&nbsp;root{=/if}
<!--{* 
<a class="folder {=if $entry->isReadOnly()}readonly{=/if}" href="../project/?target={=$entry->getPath()}/">{=$projectname}</a>
 *}-->
</h2>
<!--{* todo: class groupaccess *}-->
	<!--{foreach from=$entry->getTools() key=toolid item=toolpath}-->
	<div class="row n{=cycle values=0,1,2,3}">
	{=* special cases not handled by open *}
	{=if $toolid eq news}{=assign var='toolpath' value=`$toolpath`news.xml}{=/if}
	{=*{=if $toolid eq calendar}{=assign var='toolpath' value=`$toolpath``$projectname`.ics}{=/if}*}
	<a id="{=$toolid}:{=$projectname}" class="tool {=$toolid}" href="../?target={=$entry->getPath()}/{=$toolpath}">
	<img border="0" src="../../style/tools/{=$toolid}.png" hspace="10" align="absmiddle"/>{=$toolid}</a>
	</div>
	<!--{/foreach}-->
</div>
{=if $smarty.foreach.project.iteration + $smarty.foreach.project.iteration eq $smarty.foreach.project.total
or $smarty.foreach.project.iteration + $smarty.foreach.project.iteration - 1 eq $smarty.foreach.project.total}
</div>
<div class="column" style="width: 49%"><!--{* IE6 does not accept 50% for this column *}-->
{=/if}
<!--{/foreach}-->
</div>

<div id="footer">
<span id="releaseversion" class="versiondisplay">repos.se $URL$ $Rev$</span>
<span class="legal">Repos &copy; Repos AB is a web-based platform for version control with <a target="_blank" href="http://subversion.tigris.org/">Subversion</a>.</span>
</div>

</body>
</html>
