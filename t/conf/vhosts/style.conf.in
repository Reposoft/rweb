
<VirtualHost style>
	# the server name added by Apache::Test sets correct SelfRoot in repos.properties.php

	DocumentRoot @ServerRoot@/hosts/style/html
	
	# Evaulating a fulltext search feature
	# This alias requires repos-serach root in workspace, outside the Directory in extra.conf.in
	Alias /repos-search @ServerRoot@/../../repos-search/trunk
	<Directory @ServerRoot@/../../repos-search/>
		DirectoryIndex index.html index.php index.py
	</Directory>

	# during development browsers should revalidate on each request for static resources too
	Header add Cache-Control "max-age=0, must-revalidate"

	<Location /svn>
		DAV svn

		SVNIndexXSLT "/repos-web/view/repos.xsl"

		SVNParentPath @ServerRoot@/hosts/multirepo/svn
		SVNListParentPath on

		AuthType Basic
		AuthName "repos test multirepo"
		AuthUserFile @ServerRoot@/hosts/multirepo/admin/repos-users
		Require valid-user

		#AuthzSVNAccessFile @ServerRoot@/hosts/multirepo/admin/repos-access
		#Satisfy Any
		
		# Svn module does not set caching behavior as expected for dynamic contents
		Header add Cache-Control "max-age=0, must-revalidate"
	</Location>
	
	Include @ServerRoot@/hosts/style/html/svnservice.conf

</VirtualHost>
